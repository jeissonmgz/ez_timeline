{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/utils/index.ts"],"names":[],"mappings":"AACA,OAAO,EAAC,QAAQ,EAAC,MAAM,kCAAkC,CAAC;AAE1D,MAAM,CAAC,MAAM,yBAAyB,GAAG,CAAC,SAAuB,EAAE,UAAiC,EAAE,EAAE;IACpG,UAAU,CAAC,OAAO,CAAC,IAAI,CAAA,EAAE;QACrB,MAAM,QAAQ,GAAI,IAAgC,CAAC;QACnD,IAAG,QAAQ,CAAC,KAAK,EAAE;YACf,QAAQ,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;SACpC;QACD,IAAG,QAAQ,CAAC,GAAG,EAAE;YACb,QAAQ,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;SAChC;QACD,IAAG,QAAQ,CAAC,IAAI,EAAE;YACd,QAAQ,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC;SAClC;IACL,CAAC,CAAC,CAAC;AACP,CAAC,CAAA;AAED,MAAM,CAAC,MAAM,gBAAgB,GAAG,CAAC,QAAwB,EAAmB,EAAE,CAAC,CAC3E,CAAC,GAAG,QAAQ,CAAC,CAAC,GAAG,CAAC,IAAI,CAAA,EAAE,CACpB,CAAC;IACG,KAAK,EAAE,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;IACzC,GAAG,EAAE,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;IACrC,OAAO,EAAE,IAAI,CAAC,SAAS;CAC1B,CAAC,CACL,CAAC,CAAA;AAGN,MAAM,CAAC,MAAM,mBAAmB,GAAG,CAAC,EAAC,KAAK,EAAE,GAAG,EAAE,IAAI,EAAe,EAAE,EAAE,CAAC,CAAC,GAAG,GAAE,KAAK,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC;AAEjG,MAAM,CAAC,MAAM,oBAAoB,GAAG,CAAC,WAAyB,EAAC,EAAE,CAAC,QAAQ,CAAC;IACvE,OAAO,EAAE,MAAM;IACf,mBAAmB,EAAE,MAAM,CAAC,MAAM,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAC;CACvE,CAAC,CAAC;AAEH,MAAM,CAAC,MAAM,uBAAuB,GAAG,CAAC,KAAa,EAAE,IAAY,EAAE,KAAa,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;AAE9H,MAAM,CAAC,MAAM,oBAAoB,GAAG,CAAC,EAAC,KAAK,EAAE,GAAG,EAAgB,EAAE,EAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAe,EAAE,KAAa,EAAE,WAAoB,EAAE,EAAE,CAAC,QAAQ,CAAC;IACnJ,OAAO,EAAE,GAAG,WAAW,CAAA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,EAAE;IACxC,UAAU,EAAE,uBAAuB;IACnC,UAAU,EAAE,GAAG,uBAAuB,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,CAAC,MAAM,uBAAuB,CAAC,KAAK,EAAE,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,EAAE;CAClH,CAAC,CAAC;AAEH,MAAM,CAAC,MAAM,gBAAgB,GAAG,CAAC,QAAwB,EAAmB,EAAE;IAC1E,OAAO,CAAC,GAAG,QAAQ,CAAC,CAAC,GAAG,CAAC,IAAI,CAAA,EAAE;QAC3B,MAAM,QAAQ,GAAG,IAA8B,CAAC;QAChD,OAAO;YACH,SAAS,EAAE,QAAQ,CAAC,YAAY,CAAC,WAAW,CAAC;YAC7C,aAAa,EAAE,gBAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC;SACrD,CAAC;IACN,CAAC,CAAC,CAAC;AACP,CAAC,CAAA","sourcesContent":["import { ITimeElement, ITimelineItem, ITimeLinePath } from \"../models\";\r\nimport {styleMap} from 'lit-html/directives/style-map.js';\r\n\r\nexport const updateChildrenTimeElement = (component: ITimeElement, childNodes: NodeListOf<ChildNode>) => {\r\n    childNodes.forEach(node=>{\r\n        const nodeType = (node as unknown) as ITimeElement;\r\n        if(nodeType.start) {\r\n            nodeType.start = component.start;\r\n        }\r\n        if(nodeType.end) {\r\n            nodeType.end = component.end;\r\n        }\r\n        if(nodeType.step) {\r\n            nodeType.step = component.step;\r\n        }\r\n    });\r\n}\r\n\r\nexport const getTimelineItems = (children: HTMLCollection): ITimelineItem[] => (\r\n    [...children].map(node=>\r\n        ({\r\n            start: Number(node.getAttribute('start')),\r\n            end: Number(node.getAttribute('end')),\r\n            content: node.innerHTML\r\n        })\r\n    ))\r\n\r\n\r\nexport const getTimelineItemPath = ({start, end, step}: ITimeElement) => (end -start) / step + 1;\r\n\r\nexport const getTimelinePathStyle = (timeElement: ITimeElement)=> styleMap({\r\n    display: 'grid',\r\n    gridTemplateColumns: '1fr '.repeat(getTimelineItemPath(timeElement))\r\n});\r\n\r\nexport const getTimelineItemPosition = (start: number, step: number, value: number) => Math.floor((value - start) / step) + 1;\r\n\r\nexport const getTimelineItemStyle = ({start, end}: ITimelineItem, {start: begin, step}: ITimeElement, index: number, isCollapsed: boolean) => styleMap({\r\n    gridRow: `${isCollapsed? 1 : index + 1}`,\r\n    background: 'rgba(255,255, 0, 10%)',\r\n    gridColumn: `${getTimelineItemPosition(begin, step, start)} / ${getTimelineItemPosition(begin, step, end) + 1}`\r\n});\r\n\r\nexport const getTimelinePaths = (children: HTMLCollection): ITimeLinePath[] => {\r\n    return [...children].map(path=> {\r\n        const pathNode = path as unknown as HTMLElement;\r\n        return {\r\n            collapsed: pathNode.hasAttribute('collapsed'),\r\n            timelineItems: getTimelineItems(pathNode.children)\r\n        };\r\n    });\r\n}"]}